<!DOCTYPE html>

<!--
Nom du script : poo_04.htm
Auteur : Christian VIGOUROUX
Date de création : 19/04/2016
Date de dernière modification : 19/4/2016
Objet : "POO" en EcmaScript 5 (héritage)
-->

<!-- Balise HTML -->
<html>

  <!-- Section HEAD -->
  <head>
    <!-- Balise meta de gestion de l'accentuation UTF-8 -->
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  </head>

  <!-- Section BODY -->
  <body>

    <!-- Utilisation de la police de caractères Arial -->
    <font face="Arial">

      <!-- Affichage du titre du script -->
      <h3>Ecmacript 5 : Héritage - Script poo_04.htm</h3>

      <!-- Script JavaScript -->
      <script>

        /* Définition d'une fonction constructeur de nom Vehicule */
        /* NB : Le constructeur est ici vide */
        var Vehicule = function() {};

        /* Ajout d'une méthode accelerer au prototype du constructeur Vehicule */
        Vehicule.prototype.accelerer = function()
        {
          document.write("accélère<br />");
        };

        /* Ajout d'une méthode ralentir au prototype du constructeur Vehicule */
        Vehicule.prototype.ralentir = function()
        {
          document.write("ralentit<br />");
        };
          
        /* Définition d'une fonction constructeur de nom Voiture */
        /* NB : Le constructeur est ici vide */
        var Voiture = function() {};
          
        /* Copie de tous les éléments (attributs et méthodes)*/
        /* du prototype du constructeur Vehicule */
        /* dans le prototype du constructeur Voiture */
        /* NB : Surtout ne pas faire Voiture.prototype = Vehicule.prototype */
        /*      car dans ce cas le prototype serait partagé */
        for (cle in Vehicule.prototype)
        {
          Voiture.prototype[cle] = Vehicule.prototype[cle];
        }

        /* Surcharge du prototype du constructeur Voiture */
        /* (ajout d'une méthode freiner) */
        Voiture.prototype.freiner = function()
        {
          document.write("freine");
        };

        /* Instanciation d'un objet simca1100 via le constructeur Voiture */ 
        var simca1100 = new Voiture();
          
        /* Appel de la méthode accelerer de l'objet simca1100 */
        /* accessible depuis la copie du prototype du constructeur Vehicule */
        document.write("La simca1100 ");
        simca1100.accelerer();

        /* Appel de la méthode freiner de l'objet simca1100 */
        /* accessible via le prototype du constructeur Voiture */
        document.write("La simca1100 ");
        simca1100.freiner();

      </script>

    </font>
  
  </body>

</html>